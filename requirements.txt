# Core async dependencies
asyncio-mqtt>=0.16.0,<0.17.0
aiofiles>=24.0.0,<25.0.0
websockets>=12.0,<13.0

# Home Assistant integration
homeassistant-api>=4.0.0,<6.0.0
aiohttp>=3.9.0,<4.0.0
websocket-client>=1.7.0,<2.0.0

# Database - cross-platform compatible
psycopg2-binary>=2.9.0,<3.0.0; platform_system != "Darwin"
psycopg2>=2.9.0,<3.0.0; platform_system == "Darwin"
asyncpg>=0.29.0,<1.0.0
sqlalchemy>=2.0.0,<2.1.0
alembic>=1.13.0,<2.0.0

# Machine Learning - stable versions (updated for CVE-2024-5206 security fix)
scikit-learn>=1.5.0,<2.0.0
xgboost>=2.0.0,<3.0.0
numpy>=1.24.0,<2.0.0
pandas>=2.1.0,<3.0.0
scipy>=1.11.0,<2.0.0

# Feature Engineering
tsfresh>=0.20.0,<1.0.0
pytz>=2024.1

# API and Integration
fastapi>=0.109.0,<1.0.0
uvicorn[standard]>=0.27.0,<1.0.0
paho-mqtt>=2.0.0,<3.0.0
pydantic>=2.5.0,<3.0.0

# Configuration and Logging
pyyaml>=6.0.0,<7.0.0
python-dotenv>=1.0.0,<2.0.0
structlog>=24.0.0,<25.0.0

# Development and Testing - compatible versions
pytest>=7.4.0,<8.0.0
pytest-asyncio>=0.23.0,<1.0.0
pytest-mock>=3.12.0,<4.0.0
pytest-cov>=4.1.0,<5.0.0
pytest-html>=4.1.0,<5.0.0
pytest-timeout>=2.2.0,<3.0.0
pytest-xdist>=3.5.0,<4.0.0
black>=24.0.0,<25.0.0
flake8>=7.0.0,<8.0.0
mypy>=1.8.0,<2.0.0
types-PyYAML>=6.0.12
types-requests>=2.31.0
types-psutil>=5.9.5
types-python-dateutil>=2.8.19
isort>=5.13.0,<6.0.0
httpx>=0.27.0,<1.0.0
aioresponses>=0.7.8,<1.0.0
aiosqlite>=0.19.0,<1.0.0
bandit>=1.7.5,<2.0.0
safety>=3.0.0,<4.0.0

# Security and Encryption
cryptography>=41.0.0,<42.0.0

# Monitoring and Observability
prometheus-client>=0.20.0,<1.0.0
psutil>=5.9.0,<6.0.0
memory-profiler>=0.61.0,<1.0.0

# Utilities
click>=8.1.0,<9.0.0
python-dateutil>=2.8.0,<3.0.0